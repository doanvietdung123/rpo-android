{"ast":null,"code":"import axios from \"axios\";\nimport Utils from \"../utils/Utils\";\nimport { store } from \"./utils/Rdx\";\nimport { alertActions } from \"react-redux\";\nconst API_URL = \"http://localhost:8081/api/v1\";\nconst AUTH_URL = \"http://localhost:8081/auth\";\nclass BackendService {\n  login(login, password) {\n    return axios.post(`${AUTH_URL}/login`, {\n      login,\n      password\n    });\n  }\n  logout() {\n    return axios.get(`${AUTH_URL}/logout`, {\n      headers: {\n        Authorization: Utils.getToken()\n      }\n    });\n  }\n}\naxios.interceptors.request.use(config => {\n  store.dispatch(alertActions.clear());\n  let token = Utils.getToken();\n  if (token) config.headers.Authorization = token;\n  return config;\n});\nexport default new BackendService();","map":{"version":3,"names":["axios","Utils","store","alertActions","API_URL","AUTH_URL","BackendService","login","password","post","logout","get","headers","Authorization","getToken","interceptors","request","use","config","dispatch","clear","token"],"sources":["/home/dungodan/AndroidStudioProjects/PART_8/backend/src/front/src/services/BackendService.jsx"],"sourcesContent":["import axios from \"axios\";\nimport Utils from \"../utils/Utils\";\nimport { store } from \"./utils/Rdx\";\nimport { alertActions } from \"react-redux\";\nconst API_URL = \"http://localhost:8081/api/v1\";\nconst AUTH_URL = \"http://localhost:8081/auth\";\n\nclass BackendService {\n  login(login, password) {\n    return axios.post(`${AUTH_URL}/login`, { login, password });\n  }\n\n  logout() {\n    return axios.get(`${AUTH_URL}/logout`, {\n      headers: { Authorization: Utils.getToken() },\n    });\n  }\n}\n\naxios.interceptors.request.use((config) => {\n  store.dispatch(alertActions.clear());\n  let token = Utils.getToken();\n  if (token) config.headers.Authorization = token;\n  return config;\n});\n\nexport default new BackendService();\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,KAAK,QAAQ,aAAa;AACnC,SAASC,YAAY,QAAQ,aAAa;AAC1C,MAAMC,OAAO,GAAG,8BAA8B;AAC9C,MAAMC,QAAQ,GAAG,4BAA4B;AAE7C,MAAMC,cAAc,CAAC;EACnBC,KAAKA,CAACA,KAAK,EAAEC,QAAQ,EAAE;IACrB,OAAOR,KAAK,CAACS,IAAI,CAAE,GAAEJ,QAAS,QAAO,EAAE;MAAEE,KAAK;MAAEC;IAAS,CAAC,CAAC;EAC7D;EAEAE,MAAMA,CAAA,EAAG;IACP,OAAOV,KAAK,CAACW,GAAG,CAAE,GAAEN,QAAS,SAAQ,EAAE;MACrCO,OAAO,EAAE;QAAEC,aAAa,EAAEZ,KAAK,CAACa,QAAQ,CAAC;MAAE;IAC7C,CAAC,CAAC;EACJ;AACF;AAEAd,KAAK,CAACe,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACzChB,KAAK,CAACiB,QAAQ,CAAChB,YAAY,CAACiB,KAAK,CAAC,CAAC,CAAC;EACpC,IAAIC,KAAK,GAAGpB,KAAK,CAACa,QAAQ,CAAC,CAAC;EAC5B,IAAIO,KAAK,EAAEH,MAAM,CAACN,OAAO,CAACC,aAAa,GAAGQ,KAAK;EAC/C,OAAOH,MAAM;AACf,CAAC,CAAC;AAEF,eAAe,IAAIZ,cAAc,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}