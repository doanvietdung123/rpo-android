{"ast":null,"code":"var _jsxFileName = \"/home/dungodan/AndroidStudioProjects/PART_8/backend/src/front/src/components/PaginationComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\nconst PaginationComponent = props => {\n  _s();\n  const totalRecords = props.totalRecords;\n  const pageNeighbours = props.pageNeighbours;\n  const [currentPage, setCurrentPage] = useState(props.currentPage);\n  const totalPages = Math.ceil(props.totalRecords / props.pageLimit);\n  const range = function (from, to) {\n    let step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    let i = from;\n    const range = [];\n    while (i <= to) {\n      range.push(i);\n      i += step;\n    }\n    return range;\n  };\n  const fetchPageNumbers = () => {\n    const totalNumbers = pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n    if (totalPages > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n      let pages = range(startPage, endPage);\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = totalPages - endPage > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n      switch (true) {\n        case hasLeftSpill && !hasRightSpill:\n          {\n            let extraPages = range(startPage - spillOffset, startPage - 1);\n            pages = [LEFT_PAGE, ...extraPages, ...pages];\n            break;\n          }\n        case !hasLeftSpill && hasRightSpill:\n          {\n            let extraPages = range(endPage + 1, endPage + spillOffset);\n            pages = [...pages, ...extraPages, RIGHT_PAGE];\n            break;\n          }\n        case hasLeftSpill && hasRightSpill:\n        default:\n          {\n            pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n            break;\n          }\n      }\n      return [1, ...pages, totalPages];\n    }\n    return range(1, totalPages);\n  };\n  useEffect(() => {\n    gotoPage(1);\n  }, []);\n  const gotoPage = page => {\n    const {\n      onPageChanged = f => f\n    } = props;\n    onPageChanged(page);\n    setCurrentPage(page);\n  };\n  const handleClick = page => evt => {\n    evt.preventDefault();\n    gotoPage(page);\n  };\n  const handleMoveLeft = e => {\n    e.preventDefault();\n    gotoPage(currentPage - pageNeighbours * 2 - 1);\n  };\n  const handleMoveRight = e => {\n    e.preventDefault();\n    gotoPage(currentPage + pageNeighbours * 2 + 1);\n  };\n  if (!totalRecords || totalPages === 1) return null;\n  const pages = fetchPageNumbers(totalPages);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"Pagination\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"pagination\",\n        children: pages.map((page, index) => {\n          if (page === LEFT_PAGE) return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"page-link\",\n              \"aria-label\": \"Previous\",\n              onClick: handleMoveLeft,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xAB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0430\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this);\n          if (page === RIGHT_PAGE) return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"page-link\",\n              \"aria-label\": \"Next\",\n              onClick: handleMoveRight,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xBB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this);\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `page-item${currentPage === page ? \" active\" : \"\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"page-link\",\n              onClick: handleClick(page),\n              children: page\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(PaginationComponent, \"zs2TcnVolBDAUoM5kIGsexi3b1w=\");\n_c = PaginationComponent;\nexport default PaginationComponent;\nvar _c;\n$RefreshReg$(_c, \"PaginationComponent\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","jsxDEV","_jsxDEV","LEFT_PAGE","RIGHT_PAGE","PaginationComponent","props","_s","totalRecords","pageNeighbours","currentPage","setCurrentPage","totalPages","Math","ceil","pageLimit","range","from","to","step","arguments","length","undefined","i","push","fetchPageNumbers","totalNumbers","totalBlocks","startPage","max","endPage","min","pages","hasLeftSpill","hasRightSpill","spillOffset","extraPages","gotoPage","page","onPageChanged","f","handleClick","evt","preventDefault","handleMoveLeft","e","handleMoveRight","children","className","map","index","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/dungodan/AndroidStudioProjects/PART_8/backend/src/front/src/components/PaginationComponent.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst PaginationComponent = (props) => {\n  const totalRecords = props.totalRecords;\n  const pageNeighbours = props.pageNeighbours;\n  const [currentPage, setCurrentPage] = useState(props.currentPage);\n  const totalPages = Math.ceil(props.totalRecords / props.pageLimit);\n\n  const range = (from, to, step = 1) => {\n    let i = from;\n    const range = [];\n\n    while (i <= to) {\n      range.push(i);\n      i += step;\n    }\n    return range;\n  };\n\n  const fetchPageNumbers = () => {\n    const totalNumbers = pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      const startPage = Math.max(2, currentPage - pageNeighbours);\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\n\n      let pages = range(startPage, endPage);\n      const hasLeftSpill = startPage > 2;\n      const hasRightSpill = totalPages - endPage > 1;\n      const spillOffset = totalNumbers - (pages.length + 1);\n\n      switch (true) {\n        case hasLeftSpill && !hasRightSpill: {\n          let extraPages = range(startPage - spillOffset, startPage - 1);\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\n          break;\n        }\n        case !hasLeftSpill && hasRightSpill: {\n          let extraPages = range(endPage + 1, endPage + spillOffset);\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\n          break;\n        }\n        case hasLeftSpill && hasRightSpill:\n        default: {\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\n          break;\n        }\n      }\n      return [1, ...pages, totalPages];\n    }\n    return range(1, totalPages);\n  };\n\n  useEffect(() => {\n    gotoPage(1);\n  }, []);\n\n  const gotoPage = (page) => {\n    const { onPageChanged = (f) => f } = props;\n    onPageChanged(page);\n    setCurrentPage(page);\n  };\n\n  const handleClick = (page) => (evt) => {\n    evt.preventDefault();\n    gotoPage(page);\n  };\n\n  const handleMoveLeft = (e) => {\n    e.preventDefault();\n    gotoPage(currentPage - pageNeighbours * 2 - 1);\n  };\n\n  const handleMoveRight = (e) => {\n    e.preventDefault();\n    gotoPage(currentPage + pageNeighbours * 2 + 1);\n  };\n\n  if (!totalRecords || totalPages === 1) return null;\n\n  const pages = fetchPageNumbers(totalPages);\n\n  return (\n    <Fragment>\n      <nav aria-label=\"Pagination\">\n        <ul className=\"pagination\">\n          {pages.map((page, index) => {\n            if (page === LEFT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <button\n                    className=\"page-link\"\n                    aria-label=\"Previous\"\n                    onClick={handleMoveLeft}\n                  >\n                    <span aria-hidden=\"true\">«</span>\n                    <span className=\"sr-only\">Предыдущая</span>\n                  </button>\n                </li>\n              );\n\n            if (page === RIGHT_PAGE)\n              return (\n                <li key={index} className=\"page-item\">\n                  <button\n                    className=\"page-link\"\n                    aria-label=\"Next\"\n                    onClick={handleMoveRight}\n                  >\n                    <span aria-hidden=\"true\">»</span>\n                    <span className=\"sr-only\">Следующая</span>\n                  </button>\n                </li>\n              );\n\n            return (\n              <li\n                key={index}\n                className={`page-item${currentPage === page ? \" active\" : \"\"}`}\n              >\n                <button className=\"page-link\" onClick={handleClick(page)}>\n                  {page}\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </nav>\n    </Fragment>\n  );\n};\n\nexport default PaginationComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}